paths:
  /clientes:
    get:
      summary: Obtiene todos los clientes
      description: |
        La siguiente tabla define los códigos de estado que puede devolver este endpoint
        
        | Status Code | Descripción | Motivo                             |
        | ------------| ------------| -----------------------------------|
        | **200**     | OK          | Listado de clientes                |
        | **404**     | NOT FOUND   | No hay ningun cliente              |
      operationId: cliente_cget
      tags: [ 'Cliente' ]
      parameters:
        - $ref: 'components.yaml#/components/parameters/pageParam'
        - $ref: 'components.yaml#/components/parameters/orderParam'
        - $ref: 'components.yaml#/components/parameters/orderingParam'
      responses:
        '200':
          description: Lista de clientes
          headers:
            ETag:
              $ref: 'components.yaml#/components/headers/ETag'
          content:
            application/json:
              schema:
                type: object
                properties:
                  clientes:
                    description: array de clientes
                    type: array
                    items:
                      $ref: 'components.yaml#/components/schemas/Cliente'
                  links:
                    description: Enlaces de paginación
                    readOnly: true
                    type: object
                    properties:
                      prevPage:
                        $ref: 'components.yaml#/components/schemas/Link'
                      nextPage:
                        $ref: 'components.yaml#/components/schemas/Link'
              examples:
                clientes-example:
                  $ref: 'components.yaml#/components/examples/clientes-example'
        '404':
          $ref: 'components.yaml#/components/responses/Response_404'
    options:
      summary: Proporciona la lista de los métodos HTTP soportados por esta ruta.
      description: Devuelve una cabecera `Allow` con la lista de métodos HTTP soportados (separados por comas).
      operationId: cliente_coptions
      tags: [ 'Cliente' ]
      responses:
        '204':
          description: 'cabecera `Allow` &lt;El cuerpo de la respuesta está vacío&gt;'
          headers:
            Allow:
              $ref: 'components.yaml#/components/headers/Allow'
    post:
      summary: Añade un nuevo cliente
      description: |
        La siguiente tabla define los códigos de estado que puede devolver este endpoint
        
        | Status Code | Descripción          | Motivo                                    |
        | ------------| ---------------------| ------------------------------------------|
        | **201**     | CREATED              | El cliente ha sido creada                 |
        | **400**     | BAD REQUEST          | El identificador único ya existe          |
        | **422**     | UNPROCESSABLE ENTITY | Falta alguno de los atributos obligatorios|
        |             |                      | o el valor no está permitido              |
      tags: [ 'Cliente' ]
      operationId: cliente_post
      requestBody:
        $ref: 'components.yaml#/components/requestBodies/clienteRB'
      responses:
        '201':
          description: Nuevo Cliente creado
          headers:
            Location:
              $ref: 'components.yaml#/components/headers/Location'
          content:
            application/json:
              schema:
                $ref: 'components.yaml#/components/schemas/Cliente'
        '400':
          $ref: 'components.yaml#/components/responses/Response_400'
        '422':
          $ref: 'components.yaml#/components/responses/Response_422'

  /clientes/{cliente_id}:
    parameters:
      - $ref: 'components.yaml#/components/parameters/clienteId'
    options:
      summary: Proporciona la lista de los métodos HTTP soportados por esta ruta.
      description: Devuelve una cabecera `Allow` con la lista de métodos HTTP soportados (separados por comas).
      operationId: cliente_options
      tags: [ 'Cliente' ]
      responses:
        '204':
          description: 'cabecera `Allow` &lt;El cuerpo de la respuesta está vacío&gt;'
          headers:
            Allow:
              $ref: 'components.yaml#/components/headers/Allow'
    get:
      summary: Obtiene un cliente identificado por `clienteId`
      description: |
        La siguiente tabla define los códigos de estado que puede devolver este endpoint
        
        | Status Code | Descripción | Motivo                             |
        | ------------| ------------| -----------------------------------|
        | **200**     | OK          | Si el cliente existe               |
        | **404**     | NOT FOUND   | Si no existe el cliente            |
      operationId: cliente_get
      tags: [ 'Cliente' ]
      responses:
        '200':
          description: Cliente
          headers:
            ETag:
              $ref: 'components.yaml#/components/headers/ETag'
          content:
            application/json:
              schema:
                $ref: 'components.yaml#/components/schemas/Cliente'
        '404':
          $ref: 'components.yaml#/components/responses/Response_404'
    delete:
      summary: Elimina el cliente identificada por `clienteId`
      description: |
        La siguiente tabla define los códigos de estado que puede devolver este endpoint
        
        | Status Code      | Descripción | Motivo                                    |
        | ---------------- | ------------| ------------------------------------------|
        | **204**          | NO CONTENT  | El cliente existía y ha sido eliminada    |
        | **404**          | NOT FOUND   | Si el cliente no existe                   |
      operationId: cliente_delete
      tags: [ 'Cliente' ]
      responses:
        '204':
          description: Cliente eliminada &lt;Cuerpo de la respuesta vacío&gt;
        '404':
          $ref: 'components.yaml#/components/responses/Response_404'
    put:
      tags: [ 'Cliente' ]
      summary: Modifica el cliente identificado por `clienteId`.
      description:  |
        La siguiente tabla define los códigos de estado que puede devolver este endpoint

        | Status Code | Descripción         | Motivo                                        |
        | ------------| --------------------| ----------------------------------------------|
        | **209**     | CONTENT RETURNED    | El cliente existía y ha sido actualizada      |
        | **404**     | NOT FOUND           | Si el cliente no existe                       |
        | **412**     | PRECONDITION FAILED | Si el Tag proporcionado no está actualizado   |
        | **422**     | UNPROCESSABLE ENTITY| Valor no permitido en alguno de los attributos|
      operationId: cliente_put
      parameters:
        - $ref: 'components.yaml#/components/parameters/ifMatchParam'
      responses:
        '209':
          description: '`CONTENT RETURNED`: el cliente ha sido actualizado'
          content:
            application/json:
              schema:
                $ref: 'components.yaml#/components/schemas/Cliente'
        '404':
          $ref: 'components.yaml#/components/responses/Response_404'
        '412':
          $ref: 'components.yaml#/components/responses/Response_412'
        '422':
          $ref: 'components.yaml#/components/responses/Response_422'